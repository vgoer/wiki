<center>获取数据</center>





[toc]







## 获取数据

> 从后端获取数据。









### 1. $fetch 和 useAsyncData

> 和 原生 fetch使用类似。
>
> useAsyncData： 获取服务端数据。

```ts

<script lang="ts" setup>

// 一般就让服务端执行
// if(import.meta.server){
//   const res = await $fetch("http://localhost:8000/test")
//   console.log(res)
// }

// 官方写法 test key 服务端和客户端要唯一。
let res = await useAsyncData("test",() => {
  return $fetch("http://localhost:8000/test")
})

// 响应式数据了已经被封装 {"msg":"hello","code":200}
console.log(res.data.value)

</script>

```

