<center>Js 黑科技 </center>



[toc]







## js 黑科技

> 记录一些前端的黑科技技术





### 1. 获取电池信息

> 获取电池信息 [blog](https://mp.weixin.qq.com/s?__biz=MzAxODE2MjM1MA==&mid=2651615139&idx=1&sn=d59472bceac228d96f835194269d0218&chksm=8022b862b7553174fd6fcfa7e58639720579cefe83a96ba0efd4158bf5ccfbabfa07a1fe25e1#rd)
>
> Battery Status API的使用
>
> Battery Status API 是一个 Web API，允许 Web 应用程序访问用户设备的电池状态信息。使用这个 API，我们可以在不安装任何应用程序的情况下，从 Web 浏览器直接读取设备的电量信息。

```js
// 请求电池信息
navigator.getBattery().then(function (battery) {
    // 后续代码
    // 获取设备电量剩余百分比
    var level = battery.level //最大值为1,对应电量100%
    console.log('Level: ' + level * 100 + '%')

    // 获取设备充电状态
    var charging = battery.charging
    console.log('充电状态: ' + charging)

    // 获取设备完全充电需要的时间
    var chargingTime = battery.chargingTime
    console.log('完全充电需要的时间: ' + chargingTime)

    // 获取设备完全放电需要的时间
    var dischargingTime = battery.dischargingTime
    console.log('完全放电需要的时间: ' + dischargingTime)


    // 添加事件，当设备电量改变时触发
    battery.addEventListener('levelchange', function () {
        console.log('电量改变: ' + battery.level)
    })

    // 添加事件，当设备充电状态改变时触发
    battery.addEventListener('chargingchange', function () {
        console.log('充电状态改变: ' + battery.charging)
    })

    // 添加事件，当设备完全充电需要时间改变时触发
    battery.addEventListener('chargingtimechange', function () {
        console.log('完全充电需要时间: ' + battery.chargingTime)
    })

    // 添加事件，当设备完全放电需要时间改变时触发
    battery.addEventListener('dischargingtimechange', function () {
        console.log('完全放电需要时间: ' + battery.dischargingTime)
    })

})
```

> 大声: ==牛皮==





























