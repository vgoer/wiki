<center>项目初始化</center>





[toc]









## 项目初始化

> 项目初始化







### 1. git仓库

> 连接git仓库

```shell
# 1. 新建github仓库


# 2. 连接远程仓库
git remote add origin git@github.com:xxx/matlablearning.git 

# 3.最常见用法
add 
commit 
push
```











### 2. 前端初始化

```shell
# vue3+ts
npm init vite@latest manage_app
# 或快速安装
pnpm create vite project-name -- --template manage_app

# 安装依赖
pnpm install

# 启动
npm run dev
```

> node使用

```shell
pnpm i @types/node --save-dev
```

> 修改`tsconfig.node.json`

```json
{
  "compilerOptions": {
    "typeRoots": [
      "node_modules/@types", // 默认值
      "src/types"
    ],
    "target": "esnext",
    "useDefineForClassFields": true,
    "module": "esnext",
    "moduleResolution": "node",
    "strict": true,
    "jsx": "preserve",
    "sourceMap": true,
    "resolveJsonModule": true,
    "esModuleInterop": true,
    "lib": ["esnext", "dom"],
    "baseUrl": "./",
    "paths":{
      "@": ["src"],
      "@/*": ["src/*"],
    }
  },
  "include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.tsx", "src/**/*.vue"]
}

```

> 修改`vite.config.ts`

```ts
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import * as path from 'path';

// https://vitejs.dev/config/
export default defineConfig({
    resolve: {
        //设置别名
        alias: {
            '@': path.resolve(__dirname, 'src')
        }
    },
    plugins: [vue()],
    // server
    server: {
    port: 8080, // 启动端口
    hmr: {
        host: 'localhost',
        port: 8080,
        protocol: 'ws'
    },
    // https代理
    proxy: {
      '/api': {
        target: 'https://api.example.com',
        changeOrigin: true,
        rewrite: (path: string) => path.replace(/^\/api/, ''),
        secure: false,
        ws: false,
        headers: {
          'Access-Control-Allow-Origin': '*',
        }
      }
    }
  },
});
```



#### 1. ESLint代码质量

```shell
# eslint
pnpm i eslint@^8.56.0 eslint-plugin-vue @typescript-eslint/parser @typescript-eslint/eslint-plugin  --save-dev
```

> 由于 ESLint 默认使用 [Espree](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Feslint%2Fespree) 进行语法解析，无法识别 TypeScript 的一些语法，故我们需要安装 [`@typescript-eslint/parser`](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Ftypescript-eslint%2Ftypescript-eslint%2Ftree%2Fmaster%2Fpackages%2Fparser) 替代掉默认的解析器

> 安装对应的插件 [@typescript-eslint/eslint-plugin](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Ftypescript-eslint%2Ftypescript-eslint%2Ftree%2Fmaster%2Fpackages%2Feslint-plugin) 它作为 eslint 默认规则的补充，提供了一些额外的适用于 ts 语法的规则。

> 添加文件： `.eslintrc.cjs`

```js
module.exports = {
    parser: 'vue-eslint-parser',

    parserOptions: {
        parser: '@typescript-eslint/parser',
        ecmaVersion: 2020,
        sourceType: 'module',
        ecmaFeatures: {
            jsx: true
        }
    },

    extends: [
        'plugin:vue/vue3-recommended',
        'plugin:@typescript-eslint/recommended',
        'prettier',
        'plugin:prettier/recommended'
    ],

    rules: {
        // override/add rules settings here, such as:
    }
};
```

> 忽略文件`.eslintignore`

```js
node_modules/
dist/
index.html
```

> 修改`package.json`

```shell
    "eslint": "eslint --ext .js,.vue,.jsx,.ts,.tsx --ignore-path .gitignore --fix src",
```



#### 2. Prettier格式化

```shell
pnpm i prettier eslint-config-prettier eslint-plugin-prettier --save-dev
```

> `prettierrc.cjs`

```js
module.exports = {
    // 一行最多 80 字符
    printWidth: 80,
    // 使用 4 个空格缩进
    tabWidth: 4,
    // 不使用 tab 缩进，而使用空格
    useTabs: false,
    // 行尾需要有分号
    semi: true,
    // 使用单引号代替双引号
    singleQuote: true,
    // 对象的 key 仅在必要时用引号
    quoteProps: 'as-needed',
    // jsx 不使用单引号，而使用双引号
    jsxSingleQuote: false,
    // 末尾使用逗号
    trailingComma: 'all',
    // 大括号内的首尾需要空格 { foo: bar }
    bracketSpacing: true,
    // jsx 标签的反尖括号需要换行
    jsxBracketSameLine: false,
    // 箭头函数，只有一个参数的时候，也需要括号
    arrowParens: 'always',
    // 每个文件格式化的范围是文件的全部内容
    rangeStart: 0,
    rangeEnd: Infinity,
    // 不需要写文件开头的 @prettier
    requirePragma: false,
    // 不需要自动在文件开头插入 @prettier
    insertPragma: false,
    // 使用默认的折行标准
    proseWrap: 'preserve',
    // 根据显示样式决定 html 要不要折行
    htmlWhitespaceSensitivity: 'css',
    // 换行符使用 lf
    endOfLine: 'auto'
}
```

> 修改`package.json`

```shell
    "prettier": "prettier --write \"src/**/*.{js,jsx,ts,tsx,vue,scss,html}\"",
    "lint": "npm run eslint && npm run prettier"
```



#### 3. pinia

> 状态管理

```shell
pnpm i pinia --save
```

> `main.ts`

````ts
const app = createApp(App)

// pinai
import { createPinia } from 'pinia'
const store = createPinia()
app.use(store)

````

> `src/store/user.ts`

```ts
// 用户状态
import { defineStore } from 'pinia'

export const useUserStore = defineStore('user', {
    state: () => ({
        name: "goer",
        age: 18
    }),
    actions: {
        updateName(name: string) {
            this.name = name
        }
    }
})
```

> 使用

```vue
<style scoped>

</style>

<template>
    <h2>{{ userStore.name }}</h2>
    <button @click="userStore.updateName('kk')">add</button>
</template>


<script setup lang="ts">
import { useUserStore } from "@/store/user"

const userStore = useUserStore()
</script>
```

#### 4. vue-router

> 路由

```shell
pnpm i vue-router --save
```

> `index.ts`

```ts
import type { RouteRecordRaw } from 'vue-router'
import { createRouter, createWebHistory } from 'vue-router'

const routes: Array<RouteRecordRaw> = [
    {
        path: "/login",
        name: "Login",
        meta: {
            title: "登陆",
            KeepAlive: true,
            requireAuth: false
        },
        component: () => import("@/pages/login.vue")
    },

    {
        path: "/",
        name: "Index",
        meta: {
            title: "首页",
            KeepAlive: true,
            requireAuth: true,
        },
        component: () => import("@/pages/index.vue")
    }
]

const router = createRouter({
    history: createWebHistory(),
    routes
});

export default router
```

> `App.vue`

```vue
<template>
    <RouterView></RouterView>
</template>
```

#### 5. vuevue

`VueUse` 是一个基于 `Composition API` 的实用函数集合。

```shell
pnpm i @vueuse/core
```

> `测试`

```vue
<template>
    <h1>vueUse: Mouse</h1>
    <h3>Mouse: {{ x }} x {{ y }}</h3>
</template>
<script setup lang='ts'>
import { useMouse } from '@vueuse/core'

const { x, y, sourceType } = useMouse()
</script>
```



### 2. 后端项目初始化

```shell
``
```

