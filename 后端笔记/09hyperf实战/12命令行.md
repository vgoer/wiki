<center>命令行</center>





[toc]







## 命令行

> Hyperf 的命令行默认由 [hyperf/command](https://github.com/hyperf/command) 组件提供，而该组件本身也是基于 [symfony/console](https://github.com/symfony/console) 的抽象。







### 1. 安装

```php
composer require hyperf/command
```



### 2. [查看命令列表](https://hyperf.wiki/3.1/#/zh-cn/command?id=查看命令列表)

直接运行 `php bin/hyperf.php` 不带任何的参数即为输出命令列表。







### 3. 自定义命令

> 如果你有安装 [hyperf/devtool](https://github.com/hyperf/devtool) 组件的话，可以通过 `gen:command` 命令来生成一个自定义命令：

```shell
php bin/hyperf.php gen:command FooCommand
```

```php
<?php

declare(strict_types=1);

namespace App\Command;

use Hyperf\Command\Command as HyperfCommand;
use Hyperf\Command\Annotation\Command;
use Psr\Container\ContainerInterface;
use Symfony\Component\Console\Input\InputArgument;

#[Command]
class UserCommand extends HyperfCommand
{
    public function __construct(protected ContainerInterface $container)
    {
        parent::__construct('user:update');
    }

    public function configure()
    {
        parent::configure();
        $this->setDescription('更新用户信息');

        // 定义参数
        $this->addArgument('name', InputArgument::REQUIRED, '用户名');
    }

    public function handle()
    {
        // 从 $input 获取 name 参数
        $name = $this->input->getArgument('name') ?? 'World';
        $this->line('Hello ' . $name, 'info');
    }

}

```

