<center>靶场搭建篇</center>





[toc]









## 靶场搭建

> 以下靶场都是docker+docker compose搭建。





> docker  换国内源

```shell
sudo vim /etc/docker/daemon.json

{
    "registry-mirrors": [
        "https://docker.rainbond.cc"
    ]
}
```







### 1. DVWA

> 个包含多种漏洞的 Web 应用程序，适用于学习和实践常见的 Web 安全漏洞。 [github](https://github.com/digininja/DVWA/)

```yaml
services:
  dvwa:
    image: vulnerables/web-dvwa
    container_name: dvwa
    ports:
      - "8000:80"
    networks:
      - dvwa-network
    environment:
      - MYSQL_HOST=mysql
      - MYSQL_USER=root
      - MYSQL_PASSWORD=password
      - MYSQL_DATABASE=dvwa
    depends_on:
      - mysql

  mysql:
    image: mysql:5.7
    container_name: dvwa-mysql
    restart: always
    networks:
      - dvwa-network
    environment:
      MYSQL_ROOT_PASSWORD: password
      MYSQL_DATABASE: dvwa
    volumes:
      - mysql_data:/var/lib/mysql

networks:
  dvwa-network:
    driver: bridge

volumes:
  mysql_data:

```

> `ip:8000`访问页面









### 2. sqli-labs

> 专注于 SQL 注入的靶场。 [github](https://github.com/Audi-1/sqli-labs)

```yaml
services:
  sqli-labs:
    image: php:7.4-apache
    container_name: sqli-labs
    ports:
      - "8001:80"
    networks:
      - sqli-network
    volumes:
      - ./sqli-labs:/var/www/html
    depends_on:
      - mysql

  mysql:
    image: mysql:5.7
    container_name: sqli-labs-mysql
    restart: always
    networks:
      - sqli-network
    environment:
      MYSQL_ROOT_PASSWORD: root_password
      MYSQL_DATABASE: security
    volumes:
      - mysql_data:/var/lib/mysql

networks:
  sqli-network:
    driver: bridge

volumes:
  mysql_data:

```





### 3. upload-labs

> 专门用于学习文件上传漏洞的靶场，包含多种文件上传的安全挑战。 [github](https://github.com/c0ny1/upload-labs)

```yaml
services:
  upload-labs:
    image: php:7.4-apache
    container_name: upload-labs
    ports:
      - "8002:80"
    networks:
      - upload-network
    volumes:
      - ./upload-labs:/var/www/html
    depends_on:
      - mysql

  mysql:
    image: mysql:5.7
    container_name: upload-labs-mysql
    restart: always
    networks:
      - upload-network
    environment:
      MYSQL_ROOT_PASSWORD: root_password
      MYSQL_DATABASE: upload_labs
    volumes:
      - mysql_data:/var/lib/mysql

networks:
  upload-network:
    driver: bridge

volumes:
  mysql_data:

```





### 4. vulhub

> 包含了各种 Web 应用、系统服务和组件的漏洞环境。[github](https://github.com/vulhub/vulhub)

```shell
# 下载项目
git clone https://github.com/vulhub/vulhub.git

# 进入某一个漏洞/环境的目录
cd flask/ssti

# 自动化编译环境
docker compose build

# 启动整个环境
docker compose up -d
```







